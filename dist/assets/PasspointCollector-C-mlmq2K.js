import{l as S,d,C as z,x as $,o as g,c as f,g as p,w as B,b as m,D as F,E as I,G as P,u as C,F as O,f as R,H as j,n as U,T as M,I as T,_ as V,J as E}from"./index-BayGUjSY.js";const G={class:"card flex justify-center items-center px-4 max-h-screen"},H=["onClick"],L=["src","alt"],N=S({__name:"ImageSelector",props:{image:{}},emits:["update:image","update:imageInfo"],setup(b,{emit:h}){const n=h,i=d(["disney.jpeg","cars.jpeg","japan.jpg"]);z(()=>{i.value=_([...i.value])});function _(e){for(let t=e.length-1;t>0;t--){const l=Math.floor(Math.random()*(t+1));[e[t],e[l]]=[e[l],e[t]]}return e}const s=d([{breakpoint:"2400px",numVisible:1,numScroll:1},{breakpoint:"1400px",numVisible:1,numScroll:1},{breakpoint:"1199px",numVisible:1,numScroll:1},{breakpoint:"767px",numVisible:1,numScroll:1},{breakpoint:"575px",numVisible:1,numScroll:1}]);function x(e){const t=new Image;t.src=e,t.onload=()=>{const l=t.naturalWidth,u=t.naturalHeight;n("update:imageInfo",{width:l,height:u,name:e.split(".")[0]}),n("update:image",e)}}return(e,t)=>{const l=$("Carousel");return g(),f("div",G,[p(l,{value:i.value,numVisible:3,numScroll:1,responsiveOptions:s.value,class:"h-full"},{item:B(u=>[m("div",{class:"flex flex-row justify-center items-center cursor-pointer",onClick:w=>x(u.data)},[m("img",{src:u.data,alt:u.data,class:"object-cover w-auto h-auto max-h-96",draggable:"false"},null,8,L)],8,H)]),_:1},8,["value","responsiveOptions"])])}}}),D=["src"],J={class:"absolute ui transition-all duration-300 -bottom-2 left-1/2 -translate-x-1/2"},W=S({__name:"PasspointsSelector",props:{image:{},size:{},show:{type:Boolean},fullScreen:{type:Boolean}},emits:["update:passpoints"],setup(b,{emit:h}){const n=b,{size:i,image:_,show:s,fullScreen:x}=F(n),e=I([]),t=d(null);function l(){e.length<=0||(e.length=e.length-1,u("update:passpoints",[...e]))}const u=h;function w(a){if(e.length>=5)return;const{left:o,top:c,width:k,height:y}=t.value.getBoundingClientRect();e.push({x:(a.clientX-o)/k*100,y:(a.clientY-c)/y*100}),u("update:passpoints",[...e])}const v=d(0),r=new ResizeObserver(()=>{var c;const{width:a,height:o}=(c=t.value)==null?void 0:c.getBoundingClientRect();v.value=i.value*Math.min(a,o)});return z(async()=>{r.observe(t.value);const{width:a,height:o}=t.value.getBoundingClientRect();v.value=i.value*Math.min(a,o)}),P(()=>{r.disconnect()}),(a,o)=>{const c=$("Button");return g(),f("div",{onClick:w,class:"relative w-full h-full",ref_key:"imagecontainer",ref:t},[m("img",{src:C(_),class:"w-full h-full",draggable:"false",alt:""},null,8,D),p(M,{name:"fade",tag:"div"},{default:B(()=>[(g(!0),f(O,null,R(e,(k,y)=>(g(),f("div",{key:y,class:j(["absolute bg-red-600 border-solid border-red-100 -translate-x-1/2 -translate-y-1/2",{"opacity-80":C(s),"opacity-0":!C(s)}]),style:U({top:`${k.y}%`,left:`${k.x}%`,width:`${v.value}px`,height:`${v.value}px`})},null,6))),128))]),_:1}),m("div",J,[p(c,{raised:"",rounded:"","aria-label":"Filter",icon:"pi pi-undo",onClick:T(l,["stop"])})])],512)}}}),X=V(W,[["__scopeId","data-v-1c1d3183"]]),Y={key:0},q={key:1},A={class:"absolute image-change ui transition-all duration-300 top-3 left-2"},K={class:"absolute toggle-show ui transition-all duration-300 top-2 left-1/2 -translate-x-1/2"},Q={class:"absolute toggle-fullscreen ui transition-all duration-300 bottom-3 right-2"},Z=S({__name:"PasspointCollector",props:{image:{}},emits:["update:image","update:passpoints"],setup(b,{emit:h}){const n=d(!1),i=d(!0);d([]);const _=d(),s=I({points:[],tolerance:.05,image:{width:0,height:0,name:""}}),x=b,e=h,t=d(x.image);function l(r){t.value=r,e("update:image",r)}const u=r=>{s.points=r.map(a=>{const{x:o,y:c}=a;return{x:Math.floor(o/100*s.image.width),y:Math.floor(c/100*s.image.height)}}),e("update:passpoints",{...s})};async function w(){n.value=!n.value}function v(r){s.image=r,e("update:passpoints",{...s})}return(r,a)=>{const o=$("Button");return g(),f("div",{class:j(["justify-center ui-container flex items-center p-3 box-border transition-all duration-500",{relative:!n.value,"w-full":!n.value,"h-full":!n.value,fixed:n.value,"top-0":n.value,"left-0":n.value,"w-screen":n.value,"h-screen":n.value,"z-40":n.value,"p-4":n.value,"backdrop-blur":n.value}])},[p(M,{name:"bounce",tag:"div"},{default:B(()=>[t.value!=null&&t.value!=""?(g(),f("div",Y,[p(X,{"onUpdate:passpoints":u,size:s.tolerance,image:t.value,show:i.value,fullScreen:n.value,ref_key:"selector",ref:_},null,8,["size","image","show","fullScreen"])])):(g(),f("div",q,[p(N,{class:"image-selector","onUpdate:imageInfo":v,image:t.value,"onUpdate:image":l},null,8,["image"])]))]),_:1}),p(E,{name:"bounce"}),m("div",A,[p(o,{onClick:a[0]||(a[0]=c=>t.value=null),raised:"",rounded:"","aria-label":"Filter",icon:"pi pi-window-maximize",class:""})]),a[2]||(a[2]=m("div",null,null,-1)),m("div",K,[p(o,{onClick:a[1]||(a[1]=c=>i.value=!i.value),raised:"",rounded:"","aria-label":"Filter",icon:`pi ${i.value?"pi-eye-slash":"pi-eye"}`},null,8,["icon"])]),m("div",Q,[p(o,{onClick:w,raised:"",rounded:"","aria-label":"Filter",icon:`pi ${n.value?"pi-window-minimize":"pi-expand"}`},null,8,["icon"])])],2)}}}),te=V(Z,[["__scopeId","data-v-3ffec22e"]]);export{te as P};
